{% extends "reporting_app/project_form.html" %}

{% block search_button %}
<form method="get">
    <button id='search' type="submit">Search</button>
</form>
{% endblock %}

{%  block content %}
{% if project %}
<p>Searched result for the project <b>{{category}}</b>--><b>{{project}}</b> from repo <b>{{repo}}</b> branch <b>{{branch}}:</b></p>


    <table id="table_id" class="display" border='2' align="center">
        <thead>
         <tr>
            <th align="center">ID</th>
            <th align="center">Test ID</th>
            <th align="center">Test Name</th>
            <th align="center">Requirement</th>
            <th align="center">User Story Link</th>
         </tr>

         </thead>
        <tbody>
                {% for test in testlist %}
                    <tr>

                        <TD class="c3" align="center">{{forloop.counter}}</TD>

                        <TD class="c3" align="center">{{test.TestId}}</TD>

                        <TD class="c3" >{{test.Title}}</TD>


                        {% if test.Requirement == None %}
                            <TD class="c3" >Test Is Not Linked To a Requirement</TD>
                        {% else %}
                            <TD class="c3" >{{test.Requirement}}</a></TD>
                        {% endif %}


                        {% if test.Comments == None %}
                            <TD class="c3" >User Story Link Is Not Avaiable</TD>
                        {% else %}
                            <TD class="c3" ><a href="{{test.Comments}}">{{test.Comments}}</a></TD>
                        {% endif %}

                    </tr>
                    {% endfor %}
        </tbody>
            </table>


{% endif %}
{% endblock %}

 {% block js %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
     <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.10.18/af-2.3.0/b-1.5.2/b-colvis-1.5.2/b-flash-1.5.2/b-html5-1.5.2/b-print-1.5.2/cr-1.5.0/fh-3.1.4/r-2.2.2/datatables.min.css"/>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/v/dt/jszip-2.5.0/dt-1.10.18/af-2.3.0/b-1.5.2/b-colvis-1.5.2/b-flash-1.5.2/b-html5-1.5.2/b-print-1.5.2/cr-1.5.0/fh-3.1.4/r-2.2.2/datatables.min.js"></script>
<script>
    $(document).ready( function () {
    $('#table_id').DataTable({}
    );
} );
</script>

</div>
{% endblock %}